//
// Created by trunk on 5/22/22.
//

/*
 * æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ
 * æŒ‡é’ˆçš„ä½œç”¨ï¼š å¯ä»¥é€šè¿‡æŒ‡é’ˆé—´æ¥è®¿é—®å†…å­˜
 * - å†…å­˜ç¼–å·æ˜¯ä»0å¼€å§‹è®°å½•çš„ï¼Œä¸€èˆ¬ç”¨åå…­è¿›åˆ¶æ•°å­—æ˜¾ç¤º
 * - å¯ä»¥åˆ©ç”¨æŒ‡é’ˆå˜é‡ä¿å­˜åœ°å€
 * */

namespace day1 {
    int pointer() {
        int a = 10;
        // 1.æŒ‡é’ˆå®šä¹‰çš„è¯­æ³•ï¼š æ•°æ®ç±»å‹ *æŒ‡é’ˆå˜é‡å
        int *p;  // (int *) è¦æ”¾åœ¨ä¸€èµ·ç†è§£
        // è®©æŒ‡é’ˆè®°å½•å˜é‡açš„åœ°å€
        p = &a;
        std::cout << "açš„åœ°å€ä¸ºï¼š" << &a << std::endl;
        std::cout << "æŒ‡é’ˆpä¸ºï¼š" << p << std::endl;
        // 2.ä½¿ç”¨æŒ‡é’ˆ
        // å¯ä»¥é€šè¿‡è§£å¼•ç”¨çš„æ–¹å¼æ¥æ‰¾åˆ°æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜
        // æŒ‡é’ˆå‰åŠ  * ä»£è¡¨è§£å¼•ç”¨ï¼Œæ‰¾åˆ°æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä¸­çš„æ•°æ®
        // å¯ä»¥æŠŠ*çš„æ“ä½œé‡Œæ¥ç¨‹å–å†…å­˜åœ°å€ä¸Šçš„å€¼
        *p = 1000;
        std::cout << "a = " << a << std::endl;
        std::cout << "*p = " << *p << std::endl;

        // 3. æŒ‡é’ˆæ‰€å ç”¨å†…å­˜ç©ºé—´
        // æŒ‡é’ˆåœ¨32ä½ç³»ç»Ÿä¸‹å 4ä¸ªå­—èŠ‚
        // æŒ‡é’ˆåœ¨64ä½ç³»ç»Ÿä¸‹å 8ä¸ªå­—èŠ‚
        std::cout << "sizeof(int *) = " << sizeof(int *) << std::endl;
        std::cout << "sizeof(p) = " << sizeof(p) << std::endl;
        std::cout << "sizeof(*p) = " << sizeof(*p) << std::endl;  // *p å°±ä¸æ˜¯æŒ‡é’ˆç±»å‹äº†ï¼Œè€Œæ˜¯è¯¥å†…å­˜åœ°å€ä¸Šå­˜æ”¾çš„æ•°æ®ç±»å‹

        // 4. ç©ºæŒ‡é’ˆå’Œé‡æŒ‡é’ˆ
        // ç©ºæŒ‡é’ˆå’Œé‡æŒ‡é’ˆéƒ½ä¸æ˜¯æˆ‘ä»¬ç”³è¯·çš„ç©ºé—´ï¼Œå› æ­¤ä¸è¦è®¿é—®
        // ç©ºæŒ‡é’ˆ: æŒ‡é’ˆå˜é‡æŒ‡å‘å†…å­˜ä¸­ç¼–å·ä¸º0çš„ç©ºé—´
        // ç”¨é€”: åˆå§‹åŒ–æŒ‡é’ˆå˜é‡
        // æ³¨æ„: ç©ºæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜æ˜¯ä¸å¯ä»¥è®¿é—®çš„
//        int *p1 = NULL;
        // è®¿é—®ç©ºæŒ‡é’ˆæŠ¥é”™, ä½†æ˜¯æµ‹è¯•æ²¡æœ‰æŠ¥é”™
        //0~255ä¹‹é—´çš„å†…å­˜ç¼–å·æ˜¯ç³»ç»Ÿå ç”¨çš„ï¼Œå› æ­¤ä¸å¯ä»¥è®¿é—®
//        std::cout << "*p1 = " << *p1 << std::endl;  // TODO æ²¡æœ‰å¼‚å¸¸,ä½†æ˜¯æ‰§è¡Œä¸ä¸‹å»äº†
        //é‡æŒ‡é’ˆ: æŒ‡é’ˆå˜é‡æŒ‡å‘éæ³•çš„å†…å­˜ç©ºé—´
//        int *p2 = (int *)0x1100;
//        std::cout << "*p2 = " << *p2 << std::endl;
//        std::cout << "æ‰§è¡Œç»“æŸ" << std::endl;

        // 5. constä¿®é¥°æŒ‡é’ˆ
        int a2 = 10;
        int b2 = 10;
        // 5.1 constä¿®é¥°æŒ‡é’ˆ--å¸¸é‡æŒ‡é’ˆ
        // å¸¸é‡æŒ‡é’ˆç‰¹ç‚¹ï¼šæŒ‡é’ˆçš„æŒ‡å‘å¯ä»¥ä¿®æ”¹ï¼Œä½†æ˜¯æŒ‡é’ˆæŒ‡å‘çš„å€¼ä¸å¯ä»¥æ”¹
        const int *p2 = &a2;
        // ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘
        p2 = &b2;
        // ä¿®æ”¹æŒ‡é’ˆçš„å€¼, æœ‰å¼‚å¸¸
        // *p2 = 1000;
        std::cout << "&a2 = " << &a2 << std::endl;
        std::cout << "&b2 = " << &b2 << std::endl;
        std::cout << "p2 = " << p2 << std::endl;
        //5.2 constä¿®é¥°å¸¸é‡(æ„Ÿè§‰åº”è¯¥æ˜¯å˜é‡)--æŒ‡é’ˆå¸¸é‡(æŒ‡é’ˆåé¢è·Ÿå¸¸é‡)
        // æŒ‡é’ˆå¸¸é‡ç‰¹ç‚¹ï¼šæŒ‡é’ˆçš„æŒ‡å‘ä¸å¯ä»¥æ”¹ï¼Œä½†æ˜¯æŒ‡é’ˆæŒ‡å‘çš„å€¼å¯ä»¥æ”¹
        int *const p3 = &a2;
        // ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘ï¼Œå¼‚å¸¸
        // ğŸ“›p3 = &b2;
        // ä¿®æ”¹æŒ‡é’ˆçš„å€¼
        *p3 = 1000;
        std::cout << "*p3 = " << *p3 << std::endl;
        // 5.3 const ä¿®é¥°æŒ‡é’ˆå’Œå¸¸é‡
        const int *const p4 = &a2;
        // ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘ï¼Œå¼‚å¸¸
        // p4 = &b2;
        // ä¿®æ”¹æŒ‡é’ˆçš„å€¼ï¼Œå¼‚å¸¸
        // *p4 = 1000;

        // 6. æŒ‡é’ˆä¸æ•°ç»„
        // 6.1 åˆ©ç”¨æŒ‡é’ˆè®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ 
        int arr[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
        std::cout << "ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º: " << arr[0] << std::endl;
        int *p6 = arr;
        // int * ä»£è¡¨æŒ‡é’ˆç±»å‹ï¼Œp6 æ˜¯å˜é‡åï¼Œp6çš„å€¼æ˜¯æ•°ç»„çš„å†…å­˜åœ°å€ï¼Œarr ä¹Ÿæ˜¯å†…å­˜åœ°å€ï¼Œarræ„Ÿè§‰å°±ç­‰ä»·äºp6
        // æ‰€ä»¥ arr[0] å¯ä»¥å–åˆ°å€¼ï¼Œp6[0]ä¹Ÿå¯ä»¥å–é“å€¼
        // *p6 æ˜¯è·å–å†…å­˜åœ°å€ä¸Šçš„å€¼ï¼Œåªèƒ½æ‹¿åˆ°ä¸€ä¸ª4å­—èŠ‚çš„å…ƒç´ ï¼Œå› ä¸ºæ­¤æ•°ç»„éƒ½æ˜¯int32ç±»å‹ï¼Œå…¶å®*p6ç›¸å½“äºp6[0], p6++ ç›¸å½“äº p6[0+1]
        std::cout << "åˆ©ç”¨æŒ‡é’ˆè®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ : " << *p6 << std::endl;  //
        std::cout << "åˆ©ç”¨æŒ‡é’ˆè®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ : " << p6[0] << std::endl;  // p6æ˜¯å†…å­˜åœ°å€ï¼Œå†…å­˜åœ°å€[] ä¹Ÿæ˜¯ä¸€ç§å–å€¼æ–¹å¼
        p6++; // å‘å³åç§»4ä¸ªå­—èŠ‚, æ•°ç»„æŒ‡é’ˆæŒ‡å‘çš„æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€ï¼Œé€šè¿‡æŒ‡é’ˆè·å–çš„å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå•ç‹¬çš„å…ƒç´ ï¼Œä¸æ˜¯ä¸€ä¸ªæ•°ç»„æ•´ä½“
        std::cout << "åˆ©ç”¨æŒ‡é’ˆè®¿é—®ç¬¬äºŒä¸ªå…ƒç´ : " << *p6 << std::endl;
        for (int i = 0; i < 10; i++) {
            std::cout << *p6 << std::endl;
            p6++;
        }

        int *arr1 = arr;
        std::cout << "arr1[3] = " << arr1[3] << std::endl;

        return 0;
    }

    // 7. æŒ‡é’ˆå’Œå‡½æ•°
    // åˆ©ç”¨æŒ‡é’ˆä½œå‡½æ•°å‚æ•°ï¼Œå¯ä»¥ä¿®æ”¹å®å‚çš„å€¼
    // å€¼ä¼ é€’ï¼Œä¸ä¼šæ”¹å˜å‡½æ•°å¤–éƒ¨çš„å‚æ•°
    void swap2(int a, int b) {
        int tmp = a;
        a = b;
        b = tmp;
        std::cout << "a = " << a << ", b = " << b << std::endl;
    }

    // åœ°å€ä¼ é€’, ä¼šæ”¹å˜å‡½æ•°å¤–éƒ¨çš„å‚æ•°
    void swap3(int *a, int *b) {
        int tmp = *a;
        *a = *b;
        *b = tmp;
        std::cout << "*a = " << *a << ", *b = " << *b << std::endl;;
    }

    // 8. æŒ‡é’ˆã€æ•°ç»„ã€å‡½æ•°
    // éœ€æ±‚ï¼šå°è£…ä¸€ä¸ªå‡½æ•°ï¼Œåˆ©ç”¨å†’æ³¡æ’åºï¼Œå®ç°å¯¹æ•´å‹æ•°ç»„çš„å‡åºæ’åº
//    void bubbleSort(int arr[], int len){
    void bubbleSort(int * arr, int len){
        for (int i=0; i<len ; i++){
            for (int j=i+1; j<len; j++){
                if (arr[i] > arr[j]) {
                    int tmp = arr[i];
                    arr[i] = arr[j];
                    arr[j] = tmp;
                }
            }
        }
    }
}